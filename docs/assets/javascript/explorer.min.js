"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(){var e;var t=function(e,t){e.addEventListener("click",(function(){Promise.race([new Promise((function(e){var n,r,o;n=t,r=e,(o=new XMLHttpRequest).open("HEAD",n),o.onreadystatechange=function(){this.readyState==this.DONE&&r(404!=this.status)},o.send()})),new Promise((function(e){setTimeout((function(){e(!0)}),1500)}))]).then((function(e){window.location.href=e?t:"/xplug/404"}))}))},n=function(e){var n=document.getElementById("explorerBody");n.innerHTML="",e=JSON.parse(JSON.stringify(e));for(var r=0;r<e.length;r++){var o=e[r],a=document.createElement("p");a.classList.add("browserHeader"),a.classList.add("browserEntry"),a.innerText=" "+o.title,n.appendChild(a);var i=o.entries;(i||[]).length>0&&function(){var e=document.createElement("div");e.classList.add("browserSub");for(var r=0;r<i.length;r++){var o=i[r],s=document.createElement("p");s.classList.add("browserEntry"),0!==o.type&&s.classList.add("type"+o.type),s.innerText=" "+o.title,s.title=o.id,e.appendChild(s);var c=o.children;Array.isArray(c)||(c=[]);var d=o.extends,u="string"==typeof d;if(Array.isArray(d)||u){var l=[];l=u?[d]:d;for(var f=function(e){var t=l[e],n=i.find((function(e){return e.id===t}));if("object"===_typeof(n)){var r=n.children||[];Array.prototype.push.apply(c,r)}},p=0;p<l.length;p++)f(p)}c.sort((function(e,t){return e.title.localeCompare(t.title)})),c.length>0?function(){var n=document.createElement("div");n.classList.add("browserSub");for(var r=0;r<c.length;r++){var o=c[r],a=document.createElement("p");a.classList.add("browserEntry"),0!==o.type&&a.classList.add("type"+o.type),a.innerText=" "+o.title,a.title=o.id,n.appendChild(a),t(a,"/xplug/"+o.id)}e.appendChild(n),s.addEventListener("click",(function(){slideToggle(n)})),n.addEventListener("click",(function(e){e.stopImmediatePropagation()}))}():t(s,"/xplug/"+o.id)}n.appendChild(e),a.addEventListener("click",(function(t){t.stopImmediatePropagation(),slideToggle(e)}))}()}};Promise.all([new Promise((function(e){window.addEventListener("DOMContentLoaded",e)})),new Promise((function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)if(r.status>=200&&r.status<300){var o,a=r.response;o="json"===r.responseType?a:JSON.parse(a),e=o,t(o)}else n(r.status)},r.onerror=n,r.open("GET","/xplug/assets/json/topics.json",!0),r.send(null)}))]).then((function(){n(e);var t,r=function(e,t){return!!(e.title||"").toLowerCase().includes(t)||(e.id||"").toLowerCase().includes(t)},o=function(){var e=window.performance||e;if(e&&e.now)return e.now();var t=window.Date||Date;return t?t.now?t.now():(new Date).now():0},a=(t=window.sessionStorage||sessionStorage)?{get:function(){return"true"===t.getItem("slow-hardware")},set:function(e){return t.setItem("slow-hardware",e?"true":"false")}}:{get:function(){var e=(document.cookie||"").match(/slow-hardware=(true|false)/);return!!(Array.isArray(e)&&e.length>1)&&"true"===e[1]},set:function(e){document.cookie="slow-hardware="+(e?"true":"false")+";path=/"}},i=a.get(),s=function(t){var n=o(),s=function(t){if(t.length<1)return e;t=t.toLowerCase().replaceAll(/[:\.]/g,"/");for(var n=[],o=JSON.parse(JSON.stringify(e)),a=0;a<o.length;a++){for(var i=o[a],s=Array.isArray(i.entries)?i.entries:[],c=[],d=0;d<s.length;d++){var u=s[d];if(r(u,t))c.push(u);else{var l=u.children,f=[];if(Array.isArray(l)){for(var p=0;p<l.length;p++){var y=l[p];r(y,t)&&f.push(y)}f.length>0&&(u.children=f,c.push(u))}}}i.entries=c,n.push(i)}return n}(t),c=o()-n;return i=c>5,a.set(i),s};s("test");var c=document.getElementById("searchText"),d=document.getElementById("searchBtn");c.addEventListener("keyup",(function(){i||n(s(c.value))})),c.addEventListener("change",(function(){i||n(s(c.value))})),d.addEventListener("click",(function(){n(s(c.value))}))})).catch(console.error)}();